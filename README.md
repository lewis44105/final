这个作业暂时分为3个文件来完成目标，随后会利用已有的LED灯来反映门锁状态（由于手头没有电磁继电器）
headshots_capture-picam.py用于采集人脸数据，使用时，首先先更改PERSON_NAME再运行，按一次空格拍摄一次，最好10张不同角度的同一个人的照片，按q退出，代码逻辑为先检测或创建dataset文件夹，之后初始化摄像头，预热两秒校准摄像头，之后检测按键输入并按照规定的逻辑存储拍摄的照片
model_training.py用于利用数据集进行模型训练，首先提取dataset中的图片，利用之前的规范命名可以准确的切割名称，之后读取图片并更改色彩空间，从Open CV支持的BGR转为face_recognition支持的RGB，之后利用方向梯度直方图，明暗梯度变化定位画框（即定位人脸），随后分析人脸关键点，之后训练得到特征指纹存入knownEncodings与对应的人名存入knownNames中，之后将这两个转换为字典并利用pickle库压缩为pickle文件，用于模型应用
face_rec.py用于模型应用，配合显示器实时监测，左上角包括状态，开锁上锁或入侵者（英文），支持框出人脸并显示人名或入侵者，或需要眨眼。代码首先配置了各种相关的参数，包括报警邮件设置，活体识别的眨眼阈值，各种是否上锁，上一次抓拍时间，眨眼次数等，之后加载pickle模型文件，启动摄像头，此处是一个邮件报警功能：利用python的多线程，一旦发现陌生人就会加载一个线程去发送邮件，模拟智能门锁的报警功能，在此之后是一个解锁日志功能，记录什么时候有什么用户解锁，会记录在一个文本文件中。随后是主循环逻辑：包括两个安全功能：3s自动落锁（利用时间戳）以及多人同时露面自动上锁不进行识别，为了节省算力，此处使用了些技巧，第一个是只做一次识别，3s内不做第二次识别，降低算力消耗，第二个是先识别是否是数据库中的人，才做活体检测（需要连续眨眼）。最后该画面也是按q退出
运行方法如下，首先source face_rec/bin/activate
之后cd facial_recognition
之后如果需要录入人脸，执行该步骤，否则下一步，打开headshots_capture-picam.py并修改PERSON_NAME为需要记录的人的名字，python3 headshots_capture-picam.py运行，空格拍摄，q退出，最好至少有10张不同角度的照片，并python3 model_training.py训练模型
执行python3 face_rec.py进入面部识别
